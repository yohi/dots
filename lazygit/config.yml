customCommands:
  # AI-powered commit message generator with interactive menu
  - key: "<c-a>"
    description: "AI Commit: Generate commit messages with AI"
    context: "files"
    loadingText: "Generating commit messages with AI..."
    prompts:
      - type: "menuFromCommand"
        title: "Select a commit message"
        command: |
          if git diff --cached --quiet; then
            echo "Error: No staged changes. Please stage files first."
            exit 1
          fi
          # Get staged diff, limit size, and pass to AI tool
          git diff --cached | head -c 12000 | ./ai-commit-generator.sh | ./parse-ai-output.sh
        filter: "^(?P<msg>.+\\S.*)$"
        valueFormat: "{{ .msg }}"
        labelFormat: "{{ .msg | green }}"
    command: 'git commit -m {{.Form.SelectedMsg | quote}}'
  
  # Legacy commands (kept for reference)
  - command: |
      if git diff --staged --quiet; then
        echo "ステージングされた変更がありません"
        echo "終了する場合はq"
      else
        MSG=$(git diff --staged | "/home/y_ohi/program/lazygit-llm-commit-generator/lazygit-llm-generate" --config "/home/y_ohi/program/lazygit-llm-commit-generator/lazygit-llm/config/config.yml")
        echo "$MSG" > /tmp/lazygit-commit-msg
        git commit --template=/tmp/lazygit-commit-msg
      fi
    context: files
    description: Generate commit message with LLM
    key: <c-g>
    output: terminal
  - command: |
      if git diff --staged --quiet; then
        echo "ステージングされた変更がありません"
        echo "終了する場合はq"
      elif [ -f /tmp/lazygit-commit-msg ]; then
        git commit --template=/tmp/lazygit-commit-msg
      else
        git commit
      fi
    context: files
    description: Open commit editor
    key: <c-c>
    output: terminal
  - command: 'MSG=$(git diff --staged | lazygit-llm-generate) && echo "$MSG" > /tmp/lazygit-commit-msg && git commit --template=/tmp/lazygit-commit-msg'
    context: files
    description: Generate commit message with Gemini and open editor
    key: <c-x>
    output: terminal
