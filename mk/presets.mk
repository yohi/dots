# ãƒ—ãƒªã‚»ãƒƒãƒˆå®Ÿè¡Œã¨ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚³ãƒãƒ³ãƒ‰

# ==================== ãƒ—ãƒªã‚»ãƒƒãƒˆå®Ÿè¡Œ ====================
# ã‚¯ã‚¤ãƒƒã‚¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆåŸºæœ¬ç’°å¢ƒï¼‰
.PHONY: quick
quick: ## ã‚¯ã‚¤ãƒƒã‚¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— - åŸºæœ¬çš„ãªé–‹ç™ºç’°å¢ƒã‚’ç´ æ—©ãã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
	@echo "ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã—ã¾ã™..."
	@echo "ğŸ“‹ å®Ÿè¡Œå†…å®¹: ã‚·ã‚¹ãƒ†ãƒ è¨­å®š â†’ Homebrew â†’ åŸºæœ¬ãƒ„ãƒ¼ãƒ« â†’ ã‚·ã‚§ãƒ«è¨­å®š"
	@$(MAKE) setup-system
	@$(MAKE) install-packages-homebrew
	@$(MAKE) install-packages-deb
	@$(MAKE) setup-config-zsh
	@echo "âœ… ã‚¯ã‚¤ãƒƒã‚¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼"

# é–‹ç™ºè€…ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆé–‹ç™ºç’°å¢ƒé‡è¦–ï¼‰
.PHONY: dev-setup
dev-setup: ## é–‹ç™ºè€…ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— - IDEã¨AIé–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚’å«ã‚€é–‹ç™ºè€…å‘ã‘ç’°å¢ƒ
	@echo "ğŸ‘¨â€ğŸ’» é–‹ç™ºè€…ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã—ã¾ã™..."
	@echo "ğŸ“‹ å®Ÿè¡Œå†…å®¹: åŸºæœ¬ç’°å¢ƒ â†’ IDE â†’ AIé–‹ç™ºãƒ„ãƒ¼ãƒ« â†’ è¨­å®šé©ç”¨"
	@$(MAKE) quick
	@$(MAKE) install-packages-cursor
	@$(MAKE) install-packages-claude-ecosystem
	@$(MAKE) setup-config-vscode
	@$(MAKE) setup-config-cursor
	@$(MAKE) setup-config-git
	@echo "âœ… é–‹ç™ºè€…ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼"

# ãƒ•ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆå…¨æ©Ÿèƒ½ï¼‰
.PHONY: full
full: ## ãƒ•ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— - å…¨ã¦ã®æ©Ÿèƒ½ã‚’å«ã‚€å®Œå…¨ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
	@echo "ğŸŒŸ ãƒ•ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã—ã¾ã™..."
	@echo "ğŸ“‹ å®Ÿè¡Œå†…å®¹: å…¨ã‚·ã‚¹ãƒ†ãƒ è¨­å®š â†’ å…¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ â†’ å…¨è¨­å®š"
	@$(MAKE) dev-setup
	@$(MAKE) install-packages-cica-fonts
	@$(MAKE) install-packages-mysql-workbench
	@$(MAKE) setup-gnome-tweaks
	@$(MAKE) setup-gnome-extensions
	@$(MAKE) setup-config-all
	@echo "âœ… ãƒ•ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼"

# ãƒŸãƒ‹ãƒãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæœ€å°æ§‹æˆï¼‰
.PHONY: minimal
minimal: ## ãƒŸãƒ‹ãƒãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— - æœ€å°é™ã®æ§‹æˆã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
	@echo "âš¡ ãƒŸãƒ‹ãƒãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã—ã¾ã™..."
	@echo "ğŸ“‹ å®Ÿè¡Œå†…å®¹: åŸºæœ¬ã‚·ã‚¹ãƒ†ãƒ è¨­å®š â†’ å¿…é ˆãƒ„ãƒ¼ãƒ«ã®ã¿"
	@$(MAKE) setup-system
	@$(MAKE) install-packages-homebrew
	@$(MAKE) setup-config-zsh
	@echo "âœ… ãƒŸãƒ‹ãƒãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼"

# ==================== ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ ====================
# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚«ãƒ†ã‚´ãƒª
.PHONY: pkg-basic pkg-dev pkg-ai pkg-fonts pkg-browser pkg-others
pkg-basic: ## åŸºæœ¬ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
	@echo "ğŸ“¦ åŸºæœ¬ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­..."
	@$(MAKE) install-packages-homebrew
	@$(MAKE) install-packages-deb
	@$(MAKE) install-packages-fuse

pkg-dev: ## é–‹ç™ºç’°å¢ƒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
	@echo "ğŸ‘¨â€ğŸ’» é–‹ç™ºç’°å¢ƒã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­..."
	@$(MAKE) install-packages-cursor
	@$(MAKE) install-packages-wezterm

pkg-ai: ## AIé–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
	@echo "ğŸ¤– AIé–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­..."
	@$(MAKE) install-packages-claude-ecosystem

pkg-fonts: ## ãƒ•ã‚©ãƒ³ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
	@echo "ğŸ”¤ ãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­..."
	@$(MAKE) install-packages-cica-fonts

pkg-browser: ## ãƒ–ãƒ©ã‚¦ã‚¶ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
	@echo "ğŸŒ ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­..."
	@$(MAKE) install-packages-chrome-beta

pkg-others: ## ãã®ä»–ãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
	@echo "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
	@echo "â”‚               ğŸ”§ ãã®ä»–ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼                    â”‚"
	@echo "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
	@echo "â”‚ 1) MySQL Workbench (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†)                   â”‚"
	@echo "â”‚ 2) Playwright (E2Eãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯)                 â”‚"
	@echo "â”‚ 3) ã™ã¹ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«                                  â”‚"
	@echo "â”‚ 0) ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹                            â”‚"
	@echo "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
	@echo ""
	@read -p "é¸æŠã—ã¦ãã ã•ã„ [0-3]: " choice; \
	case $$choice in \
		1) $(MAKE) install-packages-mysql-workbench ;; \
		2) $(MAKE) install-packages-playwright ;; \
		3) $(MAKE) install-packages-mysql-workbench && $(MAKE) install-packages-playwright ;; \
		0) $(MAKE) pkg ;; \
		*) echo "âŒ ç„¡åŠ¹ãªé¸æŠã§ã™"; $(MAKE) pkg-others ;; \
	esac

# IDEè¨­å®šã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼
.PHONY: conf-ide
conf-ide: ## IDEè¨­å®šãƒ¡ãƒ‹ãƒ¥ãƒ¼
	@echo "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
	@echo "â”‚                 ğŸ’» IDEè¨­å®šãƒ¡ãƒ‹ãƒ¥ãƒ¼                      â”‚"
	@echo "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
	@echo "â”‚ 1) VSCodeè¨­å®š                                          â”‚"
	@echo "â”‚ 2) Cursorè¨­å®š                                          â”‚"
	@echo "â”‚ 3) VSCode SuperCopilotè¨­å®š                             â”‚"
	@echo "â”‚ 4) Cursor MCP Toolsè¨­å®š                               â”‚"
	@echo "â”‚ 0) è¨­å®šãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹                                  â”‚"
	@echo "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
	@echo ""
	@read -p "é¸æŠã—ã¦ãã ã•ã„ [0-4]: " choice; \
	case $$choice in \
		1) $(MAKE) setup-config-vscode ;; \
		2) $(MAKE) setup-config-cursor ;; \
		3) $(MAKE) setup-config-vscode-copilot ;; \
		4) $(MAKE) setup-config-mcp-tools ;; \
		0) $(MAKE) conf ;; \
		*) echo "âŒ ç„¡åŠ¹ãªé¸æŠã§ã™"; $(MAKE) conf-ide ;; \
	esac

# ==================== ä¾¿åˆ©ãªãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ ====================
.PHONY: status check-all update-all
# ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª
status: ## ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®ä¸€è¦§è¡¨ç¤º
	@echo "ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã‚’ç¢ºèªä¸­..."
	@echo ""
	@echo "ğŸ” Cursor IDE:"
	@$(MAKE) check-cursor-version
	@echo ""
	@echo "ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸:"
	@echo "- Homebrew: $$(command -v brew >/dev/null && echo 'âœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿' || echo 'âŒ æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«')"
	@echo "- VSCode: $$(command -v code >/dev/null && echo 'âœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿' || echo 'âŒ æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«')"
	@echo "- Git: $$(command -v git >/dev/null && echo 'âœ… '$$(git --version) || echo 'âŒ æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«')"

# å…¨ä½“ãƒã‚§ãƒƒã‚¯
check-all: ## å…¨ã¦ã®è¨­å®šãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çŠ¶æ³ã‚’ãƒã‚§ãƒƒã‚¯
	@echo "ğŸ” å…¨ä½“ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­..."
	@$(MAKE) status

# å…¨ä½“ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
update-all: ## å…¨ã¦ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
	@echo "ğŸ”„ å…¨ä½“ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’é–‹å§‹ã—ã¾ã™..."
	@echo "1/3 ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ›´æ–°ä¸­..."
	@if [ "$$(uname)" = "Linux" ] && command -v apt >/dev/null 2>&1; then \
		echo "ğŸ“¦ Debian/Ubuntu: apt update & upgrade ã‚’å®Ÿè¡Œä¸­..."; \
		sudo apt update && sudo apt upgrade -y; \
	elif [ "$$(uname)" = "Darwin" ]; then \
		echo "ğŸ macOS: Homebrew update & upgrade ã‚’å®Ÿè¡Œä¸­..."; \
		if command -v brew >/dev/null 2>&1; then \
			brew update && brew upgrade; \
		else \
			echo "âš ï¸  HomebrewãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã›ã‚“"; \
		fi; \
	else \
		echo "â„¹ï¸  ã“ã®OSã§ã¯ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è‡ªå‹•æ›´æ–°ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ (OS: $$(uname))"; \
	fi
	@echo "2/3 Cursor IDEã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆä¸­..."
	@$(MAKE) update-cursor
	@echo "3/3 Homebrewã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆä¸­..."
	@command -v brew >/dev/null && brew update && brew upgrade || echo "Homebrewæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"
	@echo "âœ… å…¨ä½“ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸï¼"
